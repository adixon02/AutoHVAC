# AutoHVAC Backend Environment Variables - EXAMPLE FILE
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to git (it's already in .gitignore)

# ============================================================================
# CORE CONFIGURATION
# ============================================================================

# OpenAI API Key (REQUIRED for AI blueprint parsing)
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# Environment: development | staging | production
ENV=development

# ============================================================================
# DATABASE (Render provides DATABASE_URL automatically in production)
# ============================================================================

# For local development with PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/autohvac_dev

# For local development with SQLite (alternative)
# DATABASE_URL=sqlite:///./autohvac.db

# ============================================================================
# REDIS (Render provides REDIS_URL automatically with Redis add-on)
# ============================================================================

# For local development
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# STRIPE PAYMENT PROCESSING
# ============================================================================

# Test keys for development (starts with sk_test_ and pk_test_)
STRIPE_MODE=test
STRIPE_SECRET_KEY=sk_test_your-test-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-test-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-test-webhook-secret
STRIPE_PRICE_ID=price_your-test-price-id

# ============================================================================
# EMAIL SERVICE (SendGrid)
# ============================================================================

# SendGrid API Key
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Email Configuration
FROM_EMAIL=no-reply@yourdomain.com
SUPPORT_EMAIL=support@yourdomain.com

# ============================================================================
# APPLICATION URLS
# ============================================================================

# Frontend URL (for CORS and email links)
FRONTEND_URL=http://localhost:3000

# Backend URL (if needed for webhooks)
BACKEND_URL=http://localhost:8000

# ============================================================================
# STORAGE
# ============================================================================

# Local storage path for uploads
RENDER_DISK_PATH=./uploads

# AWS S3 (optional, for production file storage)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=your-s3-bucket-name
# AWS_REGION=us-west-2

# ============================================================================
# AI PARSING CONFIGURATION
# ============================================================================

# Enable/disable AI parsing (uses OpenAI GPT-4V)
AI_PARSING_ENABLED=true

# Parsing mode: ai_first | traditional_first | traditional_only
PARSING_MODE=ai_first

# Scale override for blueprints (in pixels per foot)
# Common values: 48 (1/4"=1'), 96 (1/8"=1'), 24 (1/2"=1')
# SCALE_OVERRIDE=48

# ============================================================================
# OCR CONFIGURATION
# ============================================================================

# Enable PaddleOCR for better text extraction from blueprints
ENABLE_PADDLE_OCR=true

# Enable Tesseract OCR as fallback
ENABLE_TESSERACT_OCR=true

# ============================================================================
# SECURITY
# ============================================================================

# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

# Log level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Sentry DSN (optional, for error tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================================================
# RATE LIMITING
# ============================================================================

# Max requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# Max file upload size in MB
MAX_UPLOAD_SIZE_MB=50

# ============================================================================
# WORKER CONFIGURATION
# ============================================================================

# Celery worker settings
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240

# Memory limits (in MB)
WORKER_MEMORY_LIMIT_MB=1500

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable debug mode (shows detailed errors)
DEBUG_MODE=false